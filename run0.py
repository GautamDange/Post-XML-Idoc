#!/usr/bin/python
# coding=utf-8

import requests

url = "http://localhost:5678/uploadidoc"

payload = "<?xml version=\"1.0\"?><WBBDLD07><IDOC BEGIN=\"1\"><EDI_DC40 SEGMENT=\"1\"><TABNAM><![CDATA[EDI_DC40]]></TABNAM><MANDT>600</MANDT><DOCNUM>0000000000020950</DOCNUM><DOCREL>755</DOCREL><STATUS>03</STATUS><DIRECT>1</DIRECT><OUTMOD>2</OUTMOD><IDOCTYP>WBBDLD07</IDOCTYP><MESTYP>WBBDLD</MESTYP><SNDPOR>SAPRDE</SNDPOR><SNDPRT>LS</SNDPRT><SNDPRN>RDECLNT600</SNDPRN><RCVPOR>XML</RCVPOR><RCVPRT>KU</RCVPRT><RCVPRN>YLB2</RCVPRN><CREDAT>20210330</CREDAT><CRETIM>103516</CRETIM><SERIAL>20210330103516</SERIAL></EDI_DC40><E1WBB01 SEGMENT=\"1\"><LOCNR>YLB2</LOCNR><MATNR>000000000100000968</MATNR><GLTAB>20210402</GLTAB><AENKZ>DIRC</AENKZ><SPRAS>D</SPRAS><WAERS>EUR</WAERS><LANG_ISO>DE</LANG_ISO><BSORT>6</BSORT><SEG_REPEAT>X</SEG_REPEAT><MATNR_LONG>000000000100000968</MATNR_LONG><E1WBB03 SEGMENT=\"1\"><MEINH>PCE</MEINH><UMREZ>1</UMREZ><UMREN>1</UMREN><LAENG>8.600</LAENG><BREIT>8.600</BREIT><HOEHE>7.700</HOEHE><MEABM>CMT</MEABM><VOLUM>0.569</VOLUM><VOLEH>DMQ</VOLEH><BRGEW>248.000</BRGEW><GEWEI>GRM</GEWEI><KZBSTME>X</KZBSTME><KZAUSME>X</KZAUSME><E1WBB04 SEGMENT=\"1\"><EAN11>4004980506206486</EAN11><EANTP>I6</EANTP><HPEAN>X</HPEAN></E1WBB04><E1WBB07 SEGMENT=\"1\"><KSCHL>VKP0</KSCHL><DATAB>20210402</DATAB><STIME>0000</STIME><DATBI>99991231</DATBI><ETIME>0000</ETIME><E1WBB08 SEGMENT=\"1\"><VORZN>+</VORZN><KWERT>3.00</KWERT><KPEIN>1</KPEIN><CURCY>EUR</CURCY></E1WBB08></E1WBB07></E1WBB03><E1WBB02 SEGMENT=\"1\"><LAEDA>20200930</LAEDA><LIQDT>99991231</LIQDT><BBTYP>Y</BBTYP><VERNR>000011</VERNR><MTART>YHAW</MTART><MATKL>201</MATKL><ATTYP>00</ATTYP><BASME>PCE</BASME><MHDHB>0</MHDHB><MHDRZ>0</MHDRZ><MHDLP>0</MHDLP><NTGEW>200.000</NTGEW><MARA_INHME>GRM</MARA_INHME></E1WBB02><E1WBB09 SEGMENT=\"1\"><VKDAB>20200928</VKDAB><VKDBI>99991231</VKDBI><MSTDE>00000000</MSTDE><MSTDV>00000000</MSTDV><PRDRU>X</PRDRU><ARANZ>X</ARANZ></E1WBB09><E1WBB10 SEGMENT=\"1\"><MTXID>KTXT</MTXID><MAKTM><![CDATA[�ltje Erdn�sse, ger�stet&gesalzen,200g]]></MAKTM></E1WBB10><E1WBB12 SEGMENT=\"1\"><EKGRP>Y21</EKGRP><LGRAD>0.0</LGRAD><EISBE>0.000</EISBE><MINBE>0.000</MINBE><MABST>0.000</MABST><AUSDT>00000000</AUSDT><SSTUF>1</SSTUF><LSTAB>20200928</LSTAB><LSTBI>99991231</LSTBI><LI_PROC_ST>B1</LI_PROC_ST><DISMM>RP</DISMM><SKTOF>X</SKTOF><ASORT>YLB2</ASORT></E1WBB12><E1WBB18 SEGMENT=\"1\"><LAYGR>YLB02</LAYGR><SORF1>0000001102</SORF1><LAYVR>YLB2</LAYVR><MELAY>PCE</MELAY><SHELF>0000000001</SHELF><FACIN>1.000</FACIN><LMVER>0000</LMVER><E1WBB18_EXT SEGMENT=\"1\"><FRONT>              0.000</FRONT><VERAB>20200928</VERAB><VERBI>99991231</VERBI><MAXB>             12.000</MAXB><PRABE>              8.000</PRABE></E1WBB18_EXT></E1WBB18><E1WBB22 SEGMENT=\"1\"></E1WBB22></E1WBB01><E1WBB01 SEGMENT=\"1\"><LOCNR>YLB2</LOCNR><MATNR>000000000100000969</MATNR><GLTAB>20210402</GLTAB><AENKZ>DIRC</AENKZ><SPRAS>D</SPRAS><WAERS>EUR</WAERS><LANG_ISO>DE</LANG_ISO><BSORT>6</BSORT><SEG_REPEAT>X</SEG_REPEAT><MATNR_LONG>000000000100000969</MATNR_LONG><E1WBB03 SEGMENT=\"1\"><MEINH>PK</MEINH><UMREZ>6</UMREZ><UMREN>1</UMREN><LAENG>14.200</LAENG><BREIT>3.500</BREIT><HOEHE>14.500</HOEHE><MEABM>CMT</MEABM><VOLUM>0.721</VOLUM><VOLEH>DMQ</VOLEH><BRGEW>185.000</BRGEW><GEWEI>GRM</GEWEI><KZBSTME>X</KZBSTME><KZAUSME>X</KZAUSME><E1WBB04 SEGMENT=\"1\"><EAN11>4011800521219</EAN11><EANTP>HE</EANTP><HPEAN>X</HPEAN></E1WBB04></E1WBB03><E1WBB03 SEGMENT=\"1\"><MEINH>PCE</MEINH><UMREZ>1</UMREZ><UMREN>1</UMREN><LAENG>14.200</LAENG><BREIT>4.200</BREIT><HOEHE>1.700</HOEHE><MEABM>CMT</MEABM><VOLUM>101.388</VOLUM><VOLEH>CMQ</VOLEH><BRGEW>27.500</BRGEW><GEWEI>GRM</GEWEI><KZAUSME>X</KZAUSME><E1WBB04 SEGMENT=\"1\"><EAN11>4011800521226</EAN11><EANTP>HE</EANTP><HPEAN>X</HPEAN></E1WBB04><E1WBB07 SEGMENT=\"1\"><KSCHL>VKP0</KSCHL><DATAB>20210402</DATAB><STIME>0000</STIME><DATBI>99991231</DATBI><ETIME>0000</ETIME><E1WBB08 SEGMENT=\"1\"><VORZN>+</VORZN><KWERT>0.70</KWERT><KPEIN>1</KPEIN><CURCY>EUR</CURCY></E1WBB08></E1WBB07></E1WBB03><E1WBB02 SEGMENT=\"1\"><LAEDA>20210330</LAEDA><LIQDT>99991231</LIQDT><BBTYP>Y</BBTYP><VERNR>000011</VERNR><MTART>YHAW</MTART><MATKL>201</MATKL><ATTYP>00</ATTYP><BASME>PCE</BASME><MHDHB>0</MHDHB><MHDRZ>0</MHDRZ><MHDLP>0</MHDLP><NTGEW>25.000</NTGEW><MARA_BSTME>PK</MARA_BSTME><MARA_INHME>GRM</MARA_INHME></E1WBB02><E1WBB09 SEGMENT=\"1\"><VKDAB>20200928</VKDAB><VKDBI>99991231</VKDBI><MSTDE>00000000</MSTDE><MSTDV>00000000</MSTDV><PRDRU>X</PRDRU><ARANZ>X</ARANZ></E1WBB09><E1WBB10 SEGMENT=\"1\"><MTXID>KTXT</MTXID><MAKTM>Corny M�sliriegel Schokolade</MAKTM></E1WBB10><E1WBB12 SEGMENT=\"1\"><EKGRP>Y21</EKGRP><LGRAD>0.0</LGRAD><EISBE>0.000</EISBE><MINBE>0.000</MINBE><MABST>0.000</MABST><AUSDT>00000000</AUSDT><SSTUF>1</SSTUF><LSTAB>20200928</LSTAB><LSTBI>99991231</LSTBI><LI_PROC_ST>B1</LI_PROC_ST><DISMM>PD</DISMM><SKTOF>X</SKTOF><DISPO>Y01</DISPO><ASORT>YLB2</ASORT></E1WBB12><E1WBB18 SEGMENT=\"1\"><LAYGR>YLB02</LAYGR><SORF1>0000001101</SORF1><LAYVR>YLB2</LAYVR><MELAY>PCE</MELAY><SHELF>0000000001</SHELF><FACIN>1.000</FACIN><LMVER>0000</LMVER><E1WBB18_EXT SEGMENT=\"1\"><FRONT>              0.000</FRONT><VERAB>20200928</VERAB><VERBI>99991231</VERBI><MAXB>             50.000</MAXB><PRABE>             40.000</PRABE></E1WBB18_EXT></E1WBB18><E1WBB22 SEGMENT=\"1\"></E1WBB22></E1WBB01><EDI_DS40 SEGMENT=\"1\"><MANDT>600</MANDT><DOCNUM>0000000000020950</DOCNUM><LOGDAT>20210330</LOGDAT><LOGTIM>103516</LOGTIM><STATUS>01</STATUS><STAMNO>000</STAMNO><UNAME>HAARMANN</UNAME><SEGNUM>000000</SEGNUM></EDI_DS40><EDI_DS40 SEGMENT=\"1\"><MANDT>600</MANDT><DOCNUM>0000000000020950</DOCNUM><LOGDAT>20210330</LOGDAT><LOGTIM>103516</LOGTIM><STATUS>30</STATUS><STAMQU>SAP</STAMQU><STAMID>B1</STAMID><STAMNO>006</STAMNO><STATYP>S</STATYP><STAPA1>Empf�nger vorhanden</STAPA1><STAPA2>kein Filtern</STAPA2><STAPA3>kein Umsetzen</STAPA3><STAPA4>kein Versionswandel</STAPA4><STATXT><![CDATA[&, &, &, &.]]></STATXT><UNAME>HAARMANN</UNAME><SEGNUM>000000</SEGNUM></EDI_DS40><EDI_DS40 SEGMENT=\"1\"><MANDT>600</MANDT><DOCNUM>0000000000020950</DOCNUM><LOGDAT>20210330</LOGDAT><LOGTIM>103516</LOGTIM><STATUS>03</STATUS><STAMQU>SAP</STAMQU><STAMID>EA</STAMID><STAMNO>092</STAMNO><STATYP>I</STATYP><STAPA1><![CDATA[/usr/sap/RDE/SYS/global/WBBDLD_00020950.xml]]></STAPA1><STATXT>IDoc wurde in XML-Format in eine Datei geschrieben</STATXT><UNAME>HAARMANN</UNAME><REPID>LEDI7F10</REPID><SEGNUM>000000</SEGNUM></EDI_DS40></IDOC></WBBDLD07>\n"
headers = {
  'Content-Type': 'application/xml'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
